{"ast":null,"code":"var _jsxFileName = \"/Users/aamanisalehundam/Desktop/FarmEasy/src/pages/MyCrops.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useContext, useState, useEffect } from 'react';\nimport DeleteCrop from \"../components/DeleteCrop\";\nimport { LoginContext } from \"../contexts/LoginContext\";\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MyCrops() {\n  _s();\n  const {\n    account,\n    loginStatus\n  } = useContext(LoginContext);\n  const [crops, setCrops] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (loginStatus) {\n      setLoading(true);\n      setCrops([]);\n      axios.get('/api/user', {\n        params: {\n          number: account.substring(3)\n        }\n      }).then(response => {\n        const id = response.data.savedUser._id;\n        axios.get('/api/crop', {\n          params: {\n            owner: id\n          }\n        }).then(response => {\n          const savedCrops = response.data.savedCrops;\n          const newCrops = [];\n          savedCrops.forEach(crop => {\n            newCrops.push({\n              description: crop.description,\n              type: crop.type,\n              file: crop.file,\n              price: crop.price,\n              _id: crop._id\n            });\n          });\n          setCrops(newCrops);\n          setLoading(false);\n        }).catch(err => {\n          console.log(err);\n          setLoading(false);\n        });\n      }).catch(err => {\n        console.log(err);\n        setLoading(false);\n      });\n    }\n  }, [loginStatus]);\n  return !loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundImage: `url('https://wallpaperaccess.com/full/1164171.jpg')`,\n      backgroundSize: 'cover',\n      // Cover the entire page\n      backgroundPosition: 'center',\n      // Center the background image\n      minHeight: '100vh' // Ensure it covers the full view height\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold m-5\",\n      children: \"My Crops\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid sm:grid-cols-3 grid-cols-1 xs:grid-cols-2 gap-2 m-5\",\n      children: crops.map((crop, index) => /*#__PURE__*/_jsxDEV(DeleteCrop, {\n        id: crop._id,\n        description: crop.description,\n        type: crop.type,\n        file: crop.file,\n        price: crop.price\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 10\n  }, this);\n}\n_s(MyCrops, \"Df256OqHQPAz06d3dQU1PDFyZxM=\");\n_c = MyCrops;\nexport default MyCrops;\nvar _c;\n$RefreshReg$(_c, \"MyCrops\");","map":{"version":3,"names":["axios","useContext","useState","useEffect","DeleteCrop","LoginContext","Loading","MyCrops","account","loginStatus","crops","setCrops","loading","setLoading","get","params","number","substring","then","response","id","data","savedUser","_id","owner","savedCrops","newCrops","forEach","crop","push","description","type","file","price","catch","err","console","log","backgroundImage","backgroundSize","backgroundPosition","minHeight","map","index"],"sources":["/Users/aamanisalehundam/Desktop/FarmEasy/src/pages/MyCrops.jsx"],"sourcesContent":["import axios from 'axios';\nimport { useContext, useState, useEffect } from 'react'\nimport DeleteCrop from \"../components/DeleteCrop\";\nimport { LoginContext } from \"../contexts/LoginContext\";\nimport Loading from '../components/Loading';\n\n\nfunction MyCrops() {\n\n    const { account, loginStatus } = useContext(LoginContext);\n    const [crops, setCrops] = useState([])\n    const [loading, setLoading] = useState(true)\n \n    useEffect(() => {\n        if (loginStatus) {\n            setLoading(true)\n            setCrops([])\n            axios.get('/api/user', {\n                params: {\n                    number: account.substring(3)\n                }\n            }).then((response) => {\n                const id = response.data.savedUser._id\n                axios.get('/api/crop', {\n                    params: {\n                        owner: id\n                    }\n                }).then((response) => {\n                    const savedCrops = response.data.savedCrops\n                    const newCrops = []\n                    savedCrops.forEach((crop) => {\n                        newCrops.push({\n                            description: crop.description,\n                            type: crop.type,\n                            file: crop.file,\n                            price: crop.price,\n                            _id: crop._id\n                        })\n                    })\n                    setCrops(newCrops)\n                    setLoading(false)\n                }).catch(err => {\n                    console.log(err)\n                    setLoading(false)\n                })\n            }).catch(err => {\n                console.log(err)\n                setLoading(false)\n            })\n        }\n    }, [loginStatus])\n\n    return !loading ? (\n        <div style={{\n        backgroundImage: `url('https://wallpaperaccess.com/full/1164171.jpg')`,\n        backgroundSize: 'cover', // Cover the entire page\n        backgroundPosition: 'center', // Center the background image\n        minHeight: '100vh', // Ensure it covers the full view height\n    }}>\n\n        <h1 className='text-2xl font-bold m-5'>My Crops</h1>\n        <div className=\"grid sm:grid-cols-3 grid-cols-1 xs:grid-cols-2 gap-2 m-5\">\n         {crops.map((crop, index) => \n            <DeleteCrop key={index} id={crop._id} description={crop.description} type={crop.type} file={crop.file} price={crop.price}/>\n        )}\n        </div>\n         </div>\n    ) : (<Loading/>)\n    }\n\nexport default MyCrops"],"mappings":"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"},"metadata":{},"sourceType":"module"}