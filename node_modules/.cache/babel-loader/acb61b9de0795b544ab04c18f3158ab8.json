{"ast":null,"code":"var _jsxFileName = \"/Users/aamanisalehundam/Desktop/FarmEasy/src/pages/Sell.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { states, s_a } from \"../utils/cities\";\nimport CropCard from \"../components/CropCard\";\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Sell = () => {\n  _s();\n  function navigateLand() {\n    window.open(\"/lend2\", \"_blank\");\n  }\n\n  // const { account, loginStatus } = useContext(LoginContext);\n  const [type, setType] = useState();\n  const [harvest, setHarvest] = useState([]);\n  const [myState, setMyState] = useState(\"\");\n  const [myCity, setMyCity] = useState();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setLoading(true);\n    setHarvest([]);\n    axios.get(\"/api/crop\", {\n      params: {\n        type: type\n      }\n    }).then(response => {\n      const savedCrops = response.data.savedCrops;\n      let filteredCrops = [];\n      if (myCity !== undefined) {\n        if (savedCrops.length === 0) {\n          console.log(\"No crops found\");\n          setLoading(false);\n        }\n        savedCrops.forEach((crop, index) => {\n          axios.get(\"/api/user\", {\n            params: {\n              _id: crop.owner\n            }\n          }).then(response => {\n            const user = response.data.savedUser;\n            const city = user.city;\n            if (city === myCity) {\n              filteredCrops.push(crop);\n            }\n            if (index === savedCrops.length - 1) {\n              setHarvest(filteredCrops);\n              setLoading(false);\n            }\n          }).catch(err => console.log(err));\n        });\n      } else {\n        setHarvest(savedCrops);\n        setLoading(false);\n      }\n    });\n  }, [type, myCity]);\n  const crops = [\"All\", \"Wheat\", \"Rice\", \"SugarCane\", \"Maize\", \"Jower\", \"Bajra\", \"Corn\", \"Red gram\", \"Cotton\", \"Soybean\", \"Groundnut\", \"Millets\", \"Jute\"];\n  return !loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid 2sm:grid-cols-7 grid-cols-3 gap-2 mx-2 mb-2 mt-5 \",\n        children: crops.map((crop, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => crop === \"All\" ? setType() : setType(crop),\n          className: \"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\",\n          children: crop\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full sm:right-0 sm:w-20 bottom-0 my-10 fixed\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br text-white font-bold text-2xl py-2 rounded-full\",\n          onClick: navigateLand,\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" grid xs:grid-cols-2 grid-cols-1 gap-4 mx-2 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mt-4 font-mono block\",\n          children: \"State\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border-2 border-gray-300 p-2 rounded-lg mt-4 w-full\",\n          defaultValue: myState,\n          onChange: e => setMyState(e.target.value),\n          children: states.map((state, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: state,\n            children: [\" \", state]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mt-4 font-mono block\",\n          children: \"My City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border-2 border-gray-300 p-2 rounded-lg mt-4 w-full\",\n          defaultValue: myCity,\n          onChange: e => setMyCity(e.target.value),\n          children: s_a[states.indexOf(myState)].map((city, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: city,\n            children: [\" \", city]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-2 pb-2 grid md:grid-cols-5 sm:grid-cols-4 grid-cols-2 gap-2 my-2 mx-2\",\n      children: harvest.length === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No crops here!!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 33\n      }, this) : harvest.map((harvest, index) => /*#__PURE__*/_jsxDEV(CropCard, {\n        className: \"px-5 w-60 h-100\",\n        owner: harvest._id,\n        type: harvest.type,\n        description: harvest.description,\n        file: harvest.file,\n        price: harvest.price,\n        id: harvest._id\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 8\n  }, this);\n};\n_s(Sell, \"tFNtioNMkqfjC7Zlo/A8ctf664g=\");\n_c = Sell;\nexport default Sell;\nvar _c;\n$RefreshReg$(_c, \"Sell\");","map":{"version":3,"names":["React","useState","useContext","useEffect","axios","states","s_a","CropCard","Loading","Sell","navigateLand","window","open","type","setType","harvest","setHarvest","myState","setMyState","myCity","setMyCity","loading","setLoading","get","params","then","response","savedCrops","data","filteredCrops","undefined","length","console","log","forEach","crop","index","_id","owner","user","savedUser","city","push","catch","err","crops","map","e","target","value","state","indexOf","description","file","price"],"sources":["/Users/aamanisalehundam/Desktop/FarmEasy/src/pages/Sell.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { states, s_a } from \"../utils/cities\";\nimport CropCard from \"../components/CropCard\";\nimport Loading from '../components/Loading';\n\nconst Sell = () => {\n  function navigateLand() {\n    window.open(\"/lend2\", \"_blank\");\n  }\n\n  // const { account, loginStatus } = useContext(LoginContext);\n  const [type, setType] = useState();\n  const [harvest, setHarvest] = useState([]);\n  const [myState, setMyState] = useState(\"\");\n  const [myCity, setMyCity] = useState();\n\n  const [loading, setLoading] = useState(true)\n\n\n  useEffect(() => {\n    setLoading(true)\n    setHarvest([])\n    axios\n      .get(\"/api/crop\", {\n        params: {\n          type: type\n        }\n      })\n      .then((response) => {\n        const savedCrops = response.data.savedCrops;\n        \n        let filteredCrops = [];\n        if (myCity !== undefined) {\n          if (savedCrops.length === 0) {\n            console.log(\"No crops found\")\n            setLoading(false)\n          } \n          savedCrops.forEach((crop, index) => {\n          axios\n            .get(\"/api/user\", {\n              params: {\n                _id: crop.owner,\n              },\n            })\n            .then((response) => {\n              const user = response.data.savedUser;\n              const city = user.city;\n              if (city === myCity) {\n                filteredCrops.push(crop);\n              }\n              if (index === savedCrops.length - 1) {\n                setHarvest(filteredCrops);\n                setLoading(false)\n              }\n            })\n            .catch((err) => console.log(err));\n        })\n       } else { \n        setHarvest(savedCrops)\n        setLoading(false)\n       }\n    }) \n  }, [type, myCity]);\n\n  const crops = [\n    \"All\",\n    \"Wheat\",\n    \"Rice\",\n    \"SugarCane\",\n    \"Maize\",\n    \"Jower\",\n    \"Bajra\",\n    \"Corn\",\n    \"Red gram\",\n    \"Cotton\",\n    \"Soybean\",\n    \"Groundnut\",\n    \"Millets\",\n    \"Jute\"\n  ]\n\n\n  return !loading ? (\n    <>\n   \n    <div className=\"\">\n      <div className=\"grid 2sm:grid-cols-7 grid-cols-3 gap-2 mx-2 mb-2 mt-5 \">\n        {crops.map((crop, index) => (\n          <button\n            key={index}\n            onClick={() => (crop === \"All\" ? setType() : setType(crop))}\n            className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\n          >\n            {crop}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"w-full sm:right-0 sm:w-20 bottom-0 my-10 fixed\">\n        <button\n          className=\"w-full bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br text-white font-bold text-2xl py-2 rounded-full\"\n          onClick={navigateLand}\n        >\n          +\n        </button>\n      </div>\n      </div>\n\n      <div className=\" grid xs:grid-cols-2 grid-cols-1 gap-4 mx-2 mb-6\">\n        <div>\n          <label className=\"mt-4 font-mono block\">State</label>\n          <select\n            className=\"border-2 border-gray-300 p-2 rounded-lg mt-4 w-full\"\n            defaultValue={myState}\n            onChange={(e) => setMyState(e.target.value)}\n          >\n            {states.map((state, index) => (\n              <option key={index} value={state}>\n                {\" \"}\n                {state}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div>\n          <label className=\"mt-4 font-mono block\">My City</label>\n          <select\n            className=\"border-2 border-gray-300 p-2 rounded-lg mt-4 w-full\"\n            defaultValue={myCity}\n            onChange={(e) => setMyCity(e.target.value)}\n          > \n            {s_a[states.indexOf(myState)].map((city, index) => (\n              <option key={index} value={city}>\n                {\" \"}\n                {city}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"px-2 pb-2 grid md:grid-cols-5 sm:grid-cols-4 grid-cols-2 gap-2 my-2 mx-2\">\n        {harvest.length === 0 ? <h1>No crops here!!!</h1> : harvest.map((harvest, index) => (\n          <CropCard\n            className=\"px-5 w-60 h-100\"\n            key={index}\n            owner={harvest._id}\n            type={harvest.type}\n            description={harvest.description}\n            file={harvest.file}\n            price={harvest.price}\n            id={harvest._id}\n          />\n        ))}\n      </div>\n    \n    </>\n  ) : (<Loading />);\n};\n\nexport default Sell;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}