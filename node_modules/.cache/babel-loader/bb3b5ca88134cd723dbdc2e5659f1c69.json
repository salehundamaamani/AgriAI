{"ast":null,"code":"var _jsxFileName = \"/Users/aamanisalehundam/Desktop/FarmEasy/src/pages/MyTools.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useContext, useState, useEffect } from 'react';\nimport DeleteCard from \"../components/DeleteCard\";\nimport { LoginContext } from \"../contexts/LoginContext\";\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MyTools() {\n  _s();\n  const {\n    account,\n    loginStatus\n  } = useContext(LoginContext);\n  const [tools, setTools] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (loginStatus) {\n      setLoading(true);\n      setTools([]);\n      axios.get('/api/user', {\n        params: {\n          number: account.substring(3)\n        }\n      }).then(response => {\n        const id = response.data.savedUser._id;\n        axios.get('/api/tool', {\n          params: {\n            owner: id\n          }\n        }).then(response => {\n          const savedTools = response.data.savedTools;\n          const newTools = [];\n          savedTools.forEach(tool => {\n            newTools.push({\n              description: tool.description,\n              type: tool.type,\n              file: tool.file,\n              price: tool.price,\n              _id: tool._id\n            });\n          });\n          setTools(newTools);\n          setLoading(false);\n        }).catch(err => {\n          console.log(err);\n          setLoading(false);\n        });\n      }).catch(err => {\n        console.log(err);\n        setLoading(false);\n      });\n    }\n  }, [loginStatus]);\n  return !loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold m-5\",\n      children: \"My Tools\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid sm:grid-cols-3 grid-cols-1 xs:grid-cols-2 gap-2 m-5\",\n      children: tools.map((tool, index) => /*#__PURE__*/_jsxDEV(DeleteCard, {\n        id: tool._id,\n        description: tool.description,\n        type: tool.type,\n        file: tool.file,\n        price: tool.price\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 10\n  }, this);\n}\n_s(MyTools, \"IK1RI3BjCgkqW3Gt3iG7uI1mCmM=\");\n_c = MyTools;\nexport default MyTools;\nvar _c;\n$RefreshReg$(_c, \"MyTools\");","map":{"version":3,"names":["axios","useContext","useState","useEffect","DeleteCard","LoginContext","Loading","MyTools","account","loginStatus","tools","setTools","loading","setLoading","get","params","number","substring","then","response","id","data","savedUser","_id","owner","savedTools","newTools","forEach","tool","push","description","type","file","price","catch","err","console","log","map","index"],"sources":["/Users/aamanisalehundam/Desktop/FarmEasy/src/pages/MyTools.jsx"],"sourcesContent":["import axios from 'axios';\nimport { useContext, useState, useEffect } from 'react'\nimport DeleteCard from \"../components/DeleteCard\";\nimport { LoginContext } from \"../contexts/LoginContext\";\nimport Loading from '../components/Loading';\n\n\nfunction MyTools() {\n\n    const { account, loginStatus } = useContext(LoginContext);\n    const [tools, setTools] = useState([])\n    const [loading, setLoading] = useState(true)\n \n    useEffect(() => {\n        if (loginStatus) {\n            setLoading(true)\n            setTools([])\n            axios.get('/api/user', {\n                params: {\n                    number: account.substring(3)\n                }\n            }).then((response) => {\n                const id = response.data.savedUser._id\n                axios.get('/api/tool', {\n                    params: {\n                        owner: id\n                    }\n                }).then((response) => {\n                    const savedTools = response.data.savedTools\n                    const newTools = []\n                    savedTools.forEach((tool) => {\n                        newTools.push({\n                            description: tool.description,\n                            type: tool.type,\n                            file: tool.file,\n                            price: tool.price,\n                            _id: tool._id\n                        })\n                    })\n                    setTools(newTools)\n                    setLoading(false)\n                }).catch(err => {\n                    console.log(err)\n                    setLoading(false)\n                })\n            }).catch(err => {\n                console.log(err)\n                setLoading(false)\n            })\n        }\n    }, [loginStatus])\n\n    return !loading ? (\n        <>\n        <h1 className='text-2xl font-bold m-5'>My Tools</h1>\n        <div className=\"grid sm:grid-cols-3 grid-cols-1 xs:grid-cols-2 gap-2 m-5\">\n         {tools.map((tool, index) => \n            <DeleteCard key={index} id={tool._id} description={tool.description} type={tool.type} file={tool.file} price={tool.price}/>\n        )}\n        </div>\n        </>\n    ) : (<Loading/>)\n    }\n\nexport default MyTools"],"mappings":"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"},"metadata":{},"sourceType":"module"}