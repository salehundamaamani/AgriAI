{"ast":null,"code":"var _jsxFileName = \"/Users/aamanisalehundam/Desktop/FarmEasy/src/pages/Share.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { LoginContext } from \"../contexts/LoginContext\";\nimport { states, s_a } from \"../utils/cities\";\nimport ProductCard from \"../components/ProductCard\";\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Share = () => {\n  _s();\n  function navigateLand() {\n    window.open(\"/lend\", \"_blank\");\n  }\n\n  // const { account, loginStatus } = useContext(LoginContext);\n  const [type, setType] = useState();\n  const [prods, setProds] = useState([]);\n  const [myState, setMyState] = useState(\"\");\n  const [myCity, setMyCity] = useState();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setLoading(true);\n    setProds([]);\n    axios.get(\"/api/tool\", {\n      params: {\n        type: type\n      }\n    }).then(response => {\n      const savedTools = response.data.savedTools;\n      let filteredTools = [];\n      if (myCity !== undefined) {\n        if (savedTools.length === 0) {\n          console.log(\"No tools found\");\n          setLoading(false);\n        }\n        savedTools.forEach((tool, index) => {\n          axios.get(\"/api/user\", {\n            params: {\n              _id: tool.owner\n            }\n          }).then(response => {\n            const user = response.data.savedUser;\n            const city = user.city;\n            if (city === myCity) {\n              filteredTools.push(tool);\n            }\n            if (index === savedTools.length - 1) {\n              setProds(filteredTools);\n              setLoading(false);\n            }\n          }).catch(err => console.log(err));\n        });\n      } else {\n        setProds(savedTools);\n        setLoading(false);\n      }\n    });\n  }, [type, myCity]);\n  const tools = [\"All\", \"Tractors\", \"Harvestor\", \"Plough\", \"Ripper Machine\", \"Thresher\", \"Seed Drill\"];\n  return !loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid 2sm:grid-cols-7 grid-cols-3 gap-2 mx-2 mb-2 mt-5 \",\n        children: tools.map((tool, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => tool === \"All\" ? setType() : setType(tool),\n          className: \"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\",\n          children: tool\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full sm:right-0 sm:w-20 top-30 my-10 fixed\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br text-white font-bold text-2xl py-2 rounded-full\",\n          onClick: navigateLand,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" grid xs:grid-cols-2 grid-cols-1 gap-4 mx-2 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mt-4 font-mono block\",\n          children: \"State\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border-2 border-gray-300 p-2 rounded-lg mt-4 w-full\",\n          defaultValue: myState,\n          onChange: e => setMyState(e.target.value),\n          children: states.map((state, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: state,\n            children: [\" \", state]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mt-4 font-mono block\",\n          children: \"My City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border-2 border-gray-300 p-2 rounded-lg mt-4 w-full\",\n          defaultValue: myCity,\n          onChange: e => setMyCity(e.target.value),\n          children: s_a[states.indexOf(myState)].map((city, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: city,\n            children: [\" \", city]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-2 pb-2 grid md:grid-cols-5 sm:grid-cols-4 grid-cols-2 gap-2 my-2 mx-2\",\n      children: prods.length === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No tools here!!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 31\n      }, this) : prods.map((prod, index) => /*#__PURE__*/_jsxDEV(ProductCard, {\n        className: \"px-5 w-60 h-100\",\n        owner: prod._id,\n        type: prod.type,\n        description: prod.description,\n        file: prod.file,\n        price: prod.price,\n        id: prod._id\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 8\n  }, this);\n};\n_s(Share, \"ivXWF731zl4EwOiC0yz2FgAcnwY=\");\n_c = Share;\nexport default Share;\nvar _c;\n$RefreshReg$(_c, \"Share\");","map":{"version":3,"names":["React","useState","useContext","useEffect","axios","LoginContext","states","s_a","ProductCard","Loading","Share","navigateLand","window","open","type","setType","prods","setProds","myState","setMyState","myCity","setMyCity","loading","setLoading","get","params","then","response","savedTools","data","filteredTools","undefined","length","console","log","forEach","tool","index","_id","owner","user","savedUser","city","push","catch","err","tools","map","e","target","value","state","indexOf","prod","description","file","price"],"sources":["/Users/aamanisalehundam/Desktop/FarmEasy/src/pages/Share.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { LoginContext } from \"../contexts/LoginContext\";\nimport { states, s_a } from \"../utils/cities\";\nimport ProductCard from \"../components/ProductCard\";\nimport Loading from '../components/Loading';\n\nconst Share = () => {\n  function navigateLand() {\n    window.open(\"/lend\", \"_blank\");\n  }\n\n  // const { account, loginStatus } = useContext(LoginContext);\n  const [type, setType] = useState();\n  const [prods, setProds] = useState([]);\n  const [myState, setMyState] = useState(\"\");\n  const [myCity, setMyCity] = useState();\n\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    setLoading(true)\n    setProds([])\n    axios\n      .get(\"/api/tool\", {\n        params: {\n          type: type\n        }\n      })\n      .then((response) => {\n        const savedTools = response.data.savedTools;\n        let filteredTools = [];\n        if (myCity !== undefined) {\n          if (savedTools.length === 0) {\n            console.log(\"No tools found\")\n            setLoading(false)\n          } \n          savedTools.forEach((tool, index) => {\n          axios\n            .get(\"/api/user\", {\n              params: {\n                _id: tool.owner,\n              },\n            })\n            .then((response) => {\n              const user = response.data.savedUser;\n              const city = user.city;\n              if (city === myCity) {\n                filteredTools.push(tool);\n              }\n              if (index === savedTools.length - 1) {\n                setProds(filteredTools);\n                setLoading(false)\n              }\n            })\n            .catch((err) => console.log(err));\n        })\n       } else { \n        setProds(savedTools)\n        setLoading(false)\n       }\n    }) \n  }, [type, myCity]);\n\n  const tools = [\n    \"All\",\n    \"Tractors\",\n    \"Harvestor\",\n    \"Plough\",\n    \"Ripper Machine\",\n    \"Thresher\",\n    \"Seed Drill\",\n  ];\n\n  return !loading ? (\n    <>\n    <div className=\"\">\n  {/*  <div style={{ backgroundImage: `url(${'https://img.freepik.com/premium-vector/realistic-background-with-green-tea-leaves-flying-wind-nature-fresh-effect-with-herbal-leaf-air-organic-tea-plantation-vector-banner-foliage-motion-falling-down-blowing-wind_102902-4858.jpg?w=2000'})` }}> */}\n  {/* Rest of your component */}\n\n\n      <div className=\"grid 2sm:grid-cols-7 grid-cols-3 gap-2 mx-2 mb-2 mt-5 \">\n        {tools.map((tool, index) => (\n          <button\n            key={index}\n            onClick={() => (tool === \"All\" ? setType() : setType(tool))}\n            className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5\"\n          >\n            {tool}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"w-full sm:right-0 sm:w-20 top-30 my-10 fixed\">\n        <button\n          className=\"w-full bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br text-white font-bold text-2xl py-2 rounded-full\"\n          onClick={navigateLand}\n        >\n          Add\n        </button>\n      </div>\n      </div>\n\n      <div className=\" grid xs:grid-cols-2 grid-cols-1 gap-4 mx-2 mb-6\">\n        <div>\n          <label className=\"mt-4 font-mono block\">State</label>\n          <select\n            className=\"border-2 border-gray-300 p-2 rounded-lg mt-4 w-full\"\n            defaultValue={myState}\n            onChange={(e) => setMyState(e.target.value)}\n          >\n            {states.map((state, index) => (\n              <option key={index} value={state}>\n                {\" \"}\n                {state}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div>\n          <label className=\"mt-4 font-mono block\">My City</label>\n          <select\n            className=\"border-2 border-gray-300 p-2 rounded-lg mt-4 w-full\"\n            defaultValue={myCity}\n            onChange={(e) => setMyCity(e.target.value)}\n          > \n            {s_a[states.indexOf(myState)].map((city, index) => (\n              <option key={index} value={city}>\n                {\" \"}\n                {city}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"px-2 pb-2 grid md:grid-cols-5 sm:grid-cols-4 grid-cols-2 gap-2 my-2 mx-2\">\n        {prods.length === 0 ? <h1>No tools here!!!</h1> : prods.map((prod, index) => (\n          <ProductCard\n            className=\"px-5 w-60 h-100\"\n            key={index}\n            owner={prod._id}\n            type={prod.type}\n            description={prod.description}\n            file={prod.file}\n            price={prod.price}\n            id={prod._id}\n          />\n        ))}\n      </div>\n\n    </>\n  ) : (<Loading />);\n};\n\nexport default Share;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}